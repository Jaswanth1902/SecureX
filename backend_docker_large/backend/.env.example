# Backend Environment Configuration Template
# Secure File Printing System
#
# SECURITY INSTRUCTIONS:
# 1. Copy this file to .env: cp .env.example .env
# 2. Replace all CHANGE_ME_* values with actual, strong, environment-specific credentials
# 3. For local dev: generate passwords with: openssl rand -base64 32
# 4. NEVER commit the .env file to VCS (it's in .gitignore)
# 5. Use a password manager (1Password, LastPass, Vault) to securely store and share secrets
# 6. For production: use environment variables from CI/CD or secrets manager (AWS Secrets, Azure Key Vault, etc.)
# 7. Rotate credentials regularly and when employees leave
# 8. If credentials are leaked, regenerate immediately and redeploy

# Server Configuration
PORT=5000
NODE_ENV=development
HOST=localhost

# Database Configuration
# For local dev: create a unique user and strong password
# DO NOT use default postgres:postgres credentials
# Example: CREATE USER app_user WITH PASSWORD 'GeneratedStrongPassword123!';
DATABASE_URL=postgresql://${DB_USER}:${DB_PASSWORD}@${DB_HOST}:${DB_PORT}/${DB_NAME}
DB_HOST=localhost
DB_PORT=5432
DB_NAME=secure_print
DB_USER=CHANGE_ME_UNIQUE_DB_USER
DB_PASSWORD=CHANGE_ME_STRONG_PASSWORD_32_CHARS_MIN

# JWT Configuration
# Generate strong random secrets:
# Command: node -e "console.log(require('crypto').randomBytes(32).toString('hex'))"
# Or: openssl rand -hex 32
JWT_SECRET=CHANGE_ME_STRONG_JWT_SECRET_HEX_32_BYTES
JWT_REFRESH_SECRET=CHANGE_ME_STRONG_REFRESH_SECRET_HEX_32_BYTES
JWT_EXPIRY=1h
JWT_REFRESH_EXPIRY=7d

# CORS Configuration
CORS_ORIGIN=http://localhost:3000,http://localhost:3001
CORS_CREDENTIALS=true

# Encryption
# Generate: openssl rand -hex 16 (for 32-char hex string = 16 bytes)
ENCRYPTION_KEY=CHANGE_ME_32_CHAR_HEX_ENCRYPTION_KEY

# File Upload Configuration
MAX_FILE_SIZE=100mb
UPLOAD_DIR=./uploads
ALLOWED_MIME_TYPES=application/pdf,image/jpeg,image/png,application/msword

# Email Configuration (Optional)
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_USER=CHANGE_ME_EMAIL@gmail.com
SMTP_PASSWORD=CHANGE_ME_APP_SPECIFIC_PASSWORD
SMTP_FROM=noreply@secureprintapp.com

# Logging
LOG_LEVEL=debug
LOG_FILE=./logs/app.log

# Rate Limiting
RATE_LIMIT_WINDOW_MS=900000
RATE_LIMIT_MAX_REQUESTS=100

# File Expiration (in hours)
FILE_EXPIRY_HOURS=24

# Security
SECURE_COOKIES=true
SAME_SITE=Strict
ALLOW_ORIGINS_REGEX=^https:\/\/(.*\.)?secureprintapp\.com$

# Feature Flags
ENABLE_MFA=true
ENABLE_AUDIT_LOGGING=true
ENABLE_FILE_ENCRYPTION=true

# External Services
AWS_REGION=us-east-1
AWS_ACCESS_KEY_ID=your_aws_access_key
AWS_SECRET_ACCESS_KEY=your_aws_secret_key
AWS_S3_BUCKET=secure-print-files

# Application Settings
APP_NAME=SecurePrint
APP_VERSION=1.0.0
ADMIN_EMAIL=admin@secureprintapp.com
